---
# Copyright Vespa.ai. All rights reserved.
title: "/metrics/v2 API reference"
---

<p>
  The <em>application metrics API</em> is available on each <em>node</em> at
  the metrics proxy port, default <em>http://host:19092/metrics/v2/values</em>.
  A container service on the same node as the metrics proxy might forward <em>/metrics/v2/values</em>
  on its own port, normally 8080.
</p>
<p>
  <em>/metrics/v2/values</em> is an aggregation of the application instance nodes <em>/metrics/v1/values</em>.
  Refer to <a href="/en/operations-selfhosted/monitoring.html">monitoring</a>
  for an overview of nodes, services and metrics APIs. <!-- ToDo: link to generic monitoring doc once moved -->
</p>



<h2 id="http-requests">HTTP requests</h2>
<table class="table">
  <thead>
  <tr>
    <th>HTTP request</th>
    <th>metrics/v2 operation</th>
    <th>Description</th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <th>GET</th>
    <td colspan="2">
      <p id="get">
      </p>
    </td>
  </tr>
  <tr>
    <td></td>
    <th>Application metrics</th>
    <td>
      <p id="metrics-v2-values"></p>
      <pre>/metrics/v2/values</pre>
      <p>See <a href="/en/operations-selfhosted/monitoring.html#metrics-v2-values">monitoring</a> for examples.</p>
    </td>
  </tr>
  </tbody>
</table>



<h2 id="request-parameters">Request parameters</h2>
<table class="table">
  <thead>
  <tr>
    <th>Parameter</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  </thead><tbody>
<tr>
  <td>consumer</td>
  <td>String</td>
  <td>
    <p id="consumer">
      Specify response <a href="services-admin.html#consumer">consumer</a>, i.e. set of metrics.
      See <a href="metrics-v1.html#consumer">metrics/v1</a> for details.
  </td>
</tr>
</tbody>
</table>



<h2 id="http-status-codes">HTTP status codes</h2>
<p>
  Non-exhaustive list of status codes:
</p>
<table class="table">
  <thead>
  <tr>
    <th>Code</th>
    <th>Description</th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td>200</td>
    <td>OK.</td>
  </tr> <!-- ToDo: more codes -->
  </tbody>
</table>



<h2 id="response-format">Response format</h2>
<p>
  Responses are in JSON format, with the following fields:
</p>
<table class="table">
  <thead>
  <tr>
    <th>Element</th>
    <th>Parent</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td><p id="nodes">nodes</p></td>
    <td></td>
    <td>Array</td>
    <td>Root element for /metrics/v2/values. Returns an array of node objects with metrics</td>
  </tr>
  <tr>
    <td><p id="hostname">hostname</p></td>
    <td>nodes</td>
    <td>String</td>
    <td>Node hostname.</td>
  </tr>
  <tr>
    <td><p id="role">role</p></td>
    <td>nodes</td>
    <td>String</td>
    <td>Node role.</td>
  </tr>
  <tr>
    <td><p id="services">services</p></td>
    <td>nodes</td>
    <td>Array</td>
    <td>
      Array of service objects, the are services running on the node.
      The <code>service</code> object is defined in
      <a href="metrics-v1.html#metrics-v1-values">/metrics/v1/values</a>.
    </td>
  </tr>
  </tbody>
</table>
